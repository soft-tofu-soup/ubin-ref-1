<!DOCTYPE html>
<html>
<head>
    <title>Map with Overlay and Base Layer</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map {
            height: 100vh;
            width: 100%;
        }
        .leaflet-control-layers {
            z-index: 400; /* Ensure control layers are on top */
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Initialize the map
        var map = L.map('map').setView([1.3521, 103.8198], 13); // Center on Singapore

        // Add base layer
        var baseLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Add georeferenced image overlay
        var georeferencedImage = L.imageOverlay('ubin_right_modified.png', [[1.402556756, 103.976912742], [1.415571076, 103.998111068]], {opacity: 0.6});

        // Add a control layer to toggle the image layer
        var baseMaps = {
            "Base Layer": baseLayer
        };

        var overlayMaps = {
            "Georeferenced Image": georeferencedImage
        };

        L.control.layers(baseMaps, overlayMaps).addTo(map);

        // Add clickable pin
        var marker = L.marker([1.41153, 103.97974]).addTo(map);
        marker.bindPopup("<b>This is Syazwan's grandparents' home.</b><br>Originally, zinc was used for the walls, which now obscures the perimeter of the expansion. There are five steps between the kitchen and the well. The property was half the size of a soccer field and had a sirih plantation. Behind the kitchen, they grew lemongrass, pandan, sugarcane, and papaya. Food waste was used as fertiliser, and the water used for washing plates was connected via a hose to water the plants.").openPopup();

        // Add the georeferenced image layer to the map
        georeferencedImage.addTo(map);
    </script>
</body>
</html>
